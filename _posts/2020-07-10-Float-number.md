---
layout: post
title: 通用编程概念-浮点数(Float or Double)
description: 在学习C++的时候看到Float计算的相关章节, 之前在大一的时候有学到过类似的知识, 但是很快就忘记了, 现在把他记录下来方便以后查阅. 
---

# 1. 简介

* 浮点数是一种在计算机中表达数字的方式, 
* 它将数据用类似 $(-1) \times 1.3 \times 10^{-2}$ 的科学计数法表示. 
* 浮点数有表示小数的能力, 但是也可以用来表达整数. 
* 在编程语言中最常见的浮点数有单精度(Float)和多精度(Double)两种.
* 在这里不讨论unsigned float和 unsigned double. 

# 2. 设计

一个浮点数有3部分组成: 
* 符号: 数字的正负 $(-/+)$; 
* 阶码: 科学计数法中的指数 $(-2)$; 
* 尾数: 科学计数法中的基本值 $(1.3)$; 

# 3. 实现

## 3.1 符号

符号通过符号位实现, 一个32bits浮点数(Float)或者64bits浮点数(Double)中的第一位就是符号位. 符号位取值0表示正数, 符号为取值1表示负数. 

## 3.2 阶码

阶码通过二补码实现, 默认使用2为底数. 
在Float中8bits用来表达移码, 0到126代表-127到-1，127代表零，128-255代表1-128. 
在Double中, 略

## 3.3 尾数 

表示科学计数法中底基本值. 
在Float中23bits被用来记录尾数, 但是最高位的1不会被保存 (实际有效位为24bits)

# 4.  例子

## 4.1 实际取值

13.75 = 1101.11 (除二取余法)

## 4.2 科学计数法表达

1101.11 = $1.10111 \times 2^{-3}$

## 4.3 计算机保存形式

### 4.3.1 符号

正数: $ 0 $

### 4.3.2 阶码

二补码: $ -3 \Rightarrow (127 + 3) = 130 \Rightarrow 1000 0010 $ 

### 4.3.3 尾数

不保存最高位 $1.10111 \Rightarrow 10111$

### 4.3.4 最终结果

$ 0\ 10000010\ 10111\ 000000000000000000 $

# 5.  参考

* [float浮点数的内存格式](https://blog.csdn.net/chinayu2007/java/article/details/50145523)
* [浮点数](https://baike.baidu.com/item/%E6%B5%AE%E7%82%B9%E6%95%B0/6162520)
* [单精度浮点数](https://baike.baidu.com/item/%E5%8D%95%E7%B2%BE%E5%BA%A6%E6%B5%AE%E7%82%B9%E6%95%B0)


